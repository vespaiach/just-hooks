!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self)["just-hooks"]={},t.React)}(this,(function(t,e){"use strict";const n=(t,e)=>{const n=typeof t,o=typeof e;return"number"===n&&"number"===o||"string"===n&&"string"===o?t===e:t.id===e.id};function o(...t){process&&process}class r extends Error{constructor(t,e,n){super(t),this.code=e||"Unknown",this.data=n}toString(){return`[${this.code}] ${this.message}`}}t.APIError=r,t.safeFetch=async function(t,e){try{const o=await fetch(t,e),i=o.headers.get("Content-Type"),s=i?(n=i.toLocaleLowerCase()).indexOf("application/json")>-1||n.indexOf("application/ld+json")>-1||n.indexOf("application/vnd.api+json")>-1?"json":n.indexOf("text/")>-1||n.indexOf("application/javascript")>-1?"text":n.indexOf("multipart/form-data")>-1?"formData":n.indexOf("image/")>-1||n.indexOf("audio/")>-1||n.indexOf("application/zip")>-1||n.indexOf("application/pdf")>-1||n.indexOf("application/msword")>-1?"blob":null:null;let a,c=o.ok;if(s)try{a=await o[s](),o.ok||(a=new r(o.statusText,String(o.status),a))}catch(t){c=!1,a=new r(t.toString())}else a=new r("Unsupport header content-type: "+i),c=!1;return c?{ok:!0,data:a,origin:o}:{ok:!1,error:a,origin:o}}catch{return{ok:!1,error:new r("Unexpected error")}}var n},t.useLocalStorage=function(t,n,r){const{parse:i=JSON.parse,stringify:s=JSON.stringify}=r||{},a="function"==typeof t?t():t,[c,f]=e.useState(()=>{try{const t=localStorage.getItem(a);if(null!=t)return i(t);localStorage.setItem(a,s(n))}catch(t){o()}return n});return[c,e.useCallback(t=>{try{f(t),localStorage.setItem(a,s(t))}catch(t){o()}},[f,a,s])]},t.useTransferList=function(t,o){const[r,i]=e.useState(t),[s,a]=e.useState(o||[]);return{startList:r,endList:s,transfer:t=>{const e=r.findIndex(e=>n(e,t));if(e>-1){const t=r.splice(e,1);a([...s,...t]),i(r)}},withdraw:t=>{const e=s.findIndex(e=>n(e,t));if(e>-1){const t=s.splice(e,1);i([...r,...t]),a(s)}}}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=just-hooks.umd.production.min.js.map
