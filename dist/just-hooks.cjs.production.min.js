"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react");const e=(t,e)=>{const n=typeof t,r=typeof e;return"number"===n&&"number"===r||"string"===n&&"string"===r?t===e:t.id===e.id};function n(...t){process&&process}class r extends Error{constructor(t,e,n){super(t),this.code=e||"Unknown",this.data=n}toString(){return`[${this.code}] ${this.message}`}}exports.APIError=r,exports.safeFetch=async function(t,e){try{const o=await fetch(t,e),i=o.headers.get("Content-Type"),s=i?(n=i.toLocaleLowerCase()).indexOf("application/json")>-1||n.indexOf("application/ld+json")>-1||n.indexOf("application/vnd.api+json")>-1?"json":n.indexOf("text/")>-1||n.indexOf("application/javascript")>-1?"text":n.indexOf("multipart/form-data")>-1?"formData":n.indexOf("image/")>-1||n.indexOf("audio/")>-1||n.indexOf("application/zip")>-1||n.indexOf("application/pdf")>-1||n.indexOf("application/msword")>-1?"blob":null:null;let a,c=o.ok;if(s)try{a=await o[s](),o.ok||(a=new r(o.statusText,String(o.status),a))}catch(t){c=!1,a=new r(t.toString())}else a=new r("Unsupport header content-type: "+i),c=!1;return c?{ok:!0,data:a,origin:o}:{ok:!1,error:a,origin:o}}catch{return{ok:!1,error:new r("Unexpected error")}}var n},exports.useLocalStorage=function(e,r,o){const{parse:i=JSON.parse,stringify:s=JSON.stringify}=o||{},a="function"==typeof e?e():e,[c,p]=t.useState(()=>{try{const t=localStorage.getItem(a);if(null!=t)return i(t);localStorage.setItem(a,s(r))}catch(t){n()}return r});return[c,t.useCallback(t=>{try{p(t),localStorage.setItem(a,s(t))}catch(t){n()}},[p])]},exports.useTransferList=function(n,r){const[o,i]=t.useState(n),[s,a]=t.useState(r||[]);return{startList:o,endList:s,transfer:t=>{const n=o.findIndex(n=>e(n,t));if(n>-1){const t=o.splice(n,1);a([...s,...t]),i(o)}},withdraw:t=>{const n=s.findIndex(n=>e(n,t));if(n>-1){const t=s.splice(n,1);i([...o,...t]),a(s)}}}};
//# sourceMappingURL=just-hooks.cjs.production.min.js.map
